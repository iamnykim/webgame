<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>ëë§ì‡ê¸°</title>
	</head>
	<body>
		<style>
			* {
				padding: 0;
				margin: 0;
				box-sizing: border-box;
				vertical-align: top;
			}
			.wrap {
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				height: 100vh;
				font-size: 22px;
			}
			.title {
				margin-bottom: 20px;
			}

			.ip-text {
				width: 250px;
				height: 50px;
				padding: 0 10px;
				border-radius: 5px;
			}
			.btn-black {
				background-color: #000;
				border-radius: 5px;
				color: #fff;
				width: 70px;
				height: 50px;
			}
			.next-word {
				font-weight: 700;
				margin-top: 20px;
			}
			.form-box {
				margin-top: 30px;
			}
			.order {
				font-weight: 700;
			}
		</style>
		<div class="wrap">
			<h3 class="title">ğŸ†ëë§ì‡ê¸° ê²Œì„ğŸµ</h3>
			<div><span id="order" class="order">1</span>ë²ˆì§¸ ì°¸ê°€ìğŸ˜</div>
			<div class="next-word"><span id="word"></span></div>
			<div class="form-box">
				<input type="text" id="input" class="ip-text" />
				<button class="btn-black">ì…ë ¥</button>
			</div>
		</div>

		<script>
			const number = Number(prompt("ëª‡ ëª…ì´ ì°¸ê°€í•˜ë‚˜ìš”?"));
			const $button = document.querySelector("button");
			const $input = document.querySelector("input");
			const $word = document.querySelector("#word");
			const $order = document.querySelector("#order");

			let word; //ì œì‹œì–´
			let newWord; //ìƒˆë¡œ ì…ë ¥í•œ ë‹¨ì–´

			const onClickButton = () => {
				if (!word) {
					//ì œì‹œì–´ê°€ ë¹„ì–´ìˆëŠ”ê°€?
					//ë¹„ì–´ìˆë‹¤
					word = newWord; // ì…ë ¥í•œ ë‹¨ì–´ê°€ ì œì‹œì–´ê°€ ëœë‹¤
					$word.textContent = word;

					const order = Number($order.textContent); //ì°¨ë¡€ í‘œì‹œ ë¬¸ìì—´ -> ìˆ«ìë¡œ ë³€í™˜ : í˜„ì¬ìˆœì„œ
					if (order + 1 > number) {
						$order.textContent = 1;
					} else {
						$order.textContent = order + 1;
					}
					$input.value = "";
					$input.focus();
				} else {
					//ë¹„ì–´ ìˆì§€ ì•Šë‹¤
					if (word[word.length - 1] === newWord[0]) {
						//ì˜¬ë°”ë¥¸ê°€
						word = newWord; // í˜„ì¬ ë‹¨ì–´ë¥¼ ì œì‹œì–´ì— ì €ì¥
						$word.textContent = word; //í™”ë©´ì— ì œì‹œì–´ í‘œì‹œ
						const order = Number($order.textContent); //ì°¨ë¡€ í‘œì‹œ ë¬¸ìì—´ -> ìˆ«ìë¡œ ë³€í™˜ : í˜„ì¬ìˆœì„œ
						if (order + 1 > number) {
							$order.textContent = 1;
						} else {
							$order.textContent = order + 1;
						}
						$input.value = ""; //ì…ë ¥ì°½ ë¹„ìš°ê¸°
						$input.focus();
					} else {
						// ì˜¬ë°”ë¥´ì§€ ì•Šë‹¤
						alert("ì˜¬ë°”ë¥´ì§€ ì•Šì€ ë‹¨ì–´ì…ë‹ˆë‹¤.");
						$input.value = ""; //ì…ë ¥ì°½ ë¹„ìš°ê¸°
						$input.focus();
					}
				}
			};

			const onInput = event => {
				newWord = event.target.value;
			};

			$button.addEventListener("click", onClickButton);
			$input.addEventListener("input", onInput);
		</script>
	</body>
</html>
